<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header" style="background-color: #dc3545;">
          <ul class="nav nav-tabs card-header-tabs" id="formTabs" role="tablist">
            <li class="nav-item flex-grow-1 text-center">
              <a class="nav-link active font-weight-bold" id="login-tab" data-toggle="tab" href="#login" role="tab"
                aria-controls="login" aria-selected="true">Đăng Nhập</a>
            </li>
            <li class="nav-item flex-grow-1 text-center">
              <a class="nav-link font-weight-bold" id="register-tab" data-toggle="tab" href="#register" role="tab"
                aria-controls="register" aria-selected="false">Đăng Ký</a>
            </li>
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content" id="formTabsContent">
            <!-- Login Form -->
            <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
              <form id="loginForm" method="POST" action="/login-register">
                <input type="hidden" name="formType" value="login">
                <div class="form-group">
                  <input type="email" class="form-control" id="loginEmail" name="email" placeholder="Nhập email"
                    required>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <input type="password" class="form-control" id="loginPassword" name="password"
                      placeholder="Nhập mật khẩu" required>
                  </div>
                </div>
                <div class="text-center mt-3">
                  <a href="/forgot-password" class="text-decoration-none float-right" style="padding-bottom: 10px;">Quên
                    mật khẩu?</a>
                </div>
                <button type="submit" class="btn btn-primary btn-block"><b>Đăng nhập</b></button>
              </form>
              {{#if has_errors}}
              <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
                <strong>{{message}}</strong>
              </div>
              {{/if}}
              <div class="text-center mt-4">
                <p class="text-muted text-center" style="font-size: 0.9rem; margin-top: 10px;">
                  Hoặc đăng nhập với tài khoản mạng xã hội
                </p>
                <div class="d-flex justify-content-center">
                  <button class="btn btn-circle btn-primary mr-3"
                    style="background-color: #3b5998; border: none; width: 40px; height: 40px;">
                    <i class="fab fa-facebook-f" style="color: white;"></i>
                  </button>
                  <a href="/auth/google" class="btn btn-circle btn-danger"
                    style="border: none; width: 40px; height: 40px;">
                    <i class="fab fa-google" style="color: white;"></i>
                  </a>
                </div>
              </div>
            </div>

            <!-- Register Form -->
            <div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
              <form id="registerForm" method="POST" action="/login-register">
                <input type="hidden" name="formType" value="register">
                <div class="form-group">
                  <input type="email" class="form-control" id="registerEmail" name="email" placeholder="Nhập email"
                    required>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <input type="password" class="form-control" id="registerPassword" name="password"
                      placeholder="Nhập mật khẩu" required>
                  </div>
                </div>
                <button type="submit" id="registerSubmit" class="btn btn-success btn-block"><b>Đăng ký</b></button>
                <div class="text-center mt-4">
                  <p class="text-muted text-center" style="font-size: 0.9rem; margin-top: 10px;">Hoặc đăng nhập với tài
                    khoản mạng xã hội <br> Khi nhấn đăng nhập bạn đã đồng ý các <a href="#" id="termsLink">quy
                      định</a> của báo</p>
                  <div class="d-flex justify-content-center">
                    <button class="btn btn-circle btn-primary mr-3"
                      style="background-color: #3b5998; border: none; width: 40px; height: 40px;">
                      <i class="fab fa-facebook-f" style="color: white;"></i>
                    </button>
                    <a href="/auth/google" class="btn btn-circle btn-danger"
                      style="border: none; width: 40px; height: 40px;">
                      <i class="fab fa-google" style="color: white;"></i>
                    </a>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" role="dialog" aria-labelledby="termsModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header" style="background-color: #dc3545;">
        <h5 class="modal-title" id="termsModalLabel" style="color: #ffffff">Điều Khoản Sử Dụng</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!-- Modal Body -->
      <div class="modal-body">
        <h3 style="font-size: 20px; color: #dc3545;">1. Giới thiệu</h3>
        <p style="font-size: 16px; line-height: 1.6;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
          sit amet lectus vitae urna vehicula ultricies eget id purus. Cras faucibus sapien eget leo pharetra vehicula.
          Nulla facilisi. Suspendisse potenti.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">2. Quyền và Nghĩa Vụ Của Người Dùng</h3>
        <p style="font-size: 16px; line-height: 1.6;">Phasellus eget dui vel risus tempus suscipit. Sed cursus, metus
          non varius feugiat, dui ligula fermentum nisl, nec convallis urna lacus ut nisl. Curabitur accumsan, odio id
          ultrices volutpat, sapien odio faucibus nibh, id scelerisque nisi quam vel odio.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">3. Quyền Sở Hữu và Bản Quyền</h3>
        <p style="font-size: 16px; line-height: 1.6;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
          sit amet lectus vitae urna vehicula ultricies eget id purus. Cras faucibus sapien eget leo pharetra vehicula.
          Nulla facilisi. Suspendisse potenti.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">4. Trách Nhiệm Của Người Dùng</h3>
        <p style="font-size: 16px; line-height: 1.6;">Phasellus eget dui vel risus tempus suscipit. Sed cursus, metus
          non varius feugiat, dui ligula fermentum nisl, nec convallis urna lacus ut nisl. Curabitur accumsan, odio id
          ultrices volutpat, sapien odio faucibus nibh, id scelerisque nisi quam vel odio.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">5. Chính Sách Bảo Mật</h3>
        <p style="font-size: 16px; line-height: 1.6;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
          sit amet lectus vitae urna vehicula ultricies eget id purus. Cras faucibus sapien eget leo pharetra vehicula.
          Nulla facilisi. Suspendisse potenti.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">6. Điều Khoản Chấm Dứt Sử Dụng</h3>
        <p style="font-size: 16px; line-height: 1.6;">Phasellus eget dui vel risus tempus suscipit. Sed cursus, metus
          non varius feugiat, dui ligula fermentum nisl, nec convallis urna lacus ut nisl. Curabitur accumsan, odio id
          ultrices volutpat, sapien odio faucibus nibh, id scelerisque nisi quam vel odio.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">7. Thay Đổi Điều Khoản</h3>
        <p style="font-size: 16px; line-height: 1.6;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque
          sit amet lectus vitae urna vehicula ultricies eget id purus. Cras faucibus sapien eget leo pharetra vehicula.
          Nulla facilisi. Suspendisse potenti.</p>

        <hr style="border: 1px dashed #ccc; margin: 20px 0;">

        <h3 style="font-size: 20px; color: #dc3545;">8. Liên Hệ</h3>
        <p style="font-size: 16px; line-height: 1.6;">Phasellus eget dui vel risus tempus suscipit. Sed cursus, metus
          non varius feugiat, dui ligula fermentum nisl, nec convallis urna lacus ut nisl. Curabitur accumsan, odio id
          ultrices volutpat, sapien odio faucibus nibh, id scelerisque nisi quam vel odio.</p>

        <!-- Checkbox -->
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="agreeCheckbox">
          <label class="form-check-label" for="agreeCheckbox">Tôi đồng ý với quy định của tòa báo</label>
        </div>
      </div>
      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" id="closeModalBtn" class="btn btn-close-custom" disabled><b>Đóng</b></button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const termsLink = document.getElementById("termsLink");
    const agreeCheckbox = document.getElementById("agreeCheckbox");
    const closeModalBtn = document.getElementById("closeModalBtn");

    termsLink.addEventListener("click", function (event) {
      event.preventDefault();
      $("#termsModal").modal("show");
    });

    agreeCheckbox.addEventListener("change", function () {
      closeModalBtn.disabled = !agreeCheckbox.checked;
    });

    closeModalBtn.addEventListener("click", function () {
      $("#termsModal").modal("hide");
    });
  });
</script>